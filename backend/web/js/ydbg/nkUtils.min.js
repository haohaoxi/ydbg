var nku={name:"\u5e38\u7528\u5de5\u5177\u96c6 nkUtils",ver:"1.0",author:"Narky",lastModify:"2010-07-29",colorpad:{bindID:"",ldID:"linkDiv",viID:"colorValue",clID:"",vcID:"",ldW:10,ldH:10,showPos:0,isShow:0,config:function(a){if(typeof a=="undefined"){alert("ColorPad:\u8bbe\u7f6e\u53c2\u6570\u9519\u8bef");return this}this.bindID=a.bindID;this.clID=typeof a.clID!="undefined"?a.clID:this.ldID;this.vcID=typeof a.vcID!="undefined"?a.vcID:this.viID;if(typeof a.showPos!="undefined")this.showPos=a.showPos;
if(typeof a.isShow!="undefined")this.isShow=a.isShow;return this},create:function(){if(this.bindID==""||typeof this.bindID=="undefined"){alert("ColorPad:\u8bf7\u6307\u5b9a\u5bb9\u5668ID");return this}var a=[["#FFFFFF","#E5E4E4","#D9D8D8","#C0BDBD","#A7A4A4","#8E8A8B","#827E7F","#767173","#5C585A","#000000"],["#FEFCDF","#FEF4C4","#FEED9B","#FEE573","#FFED43","#F6CC0B","#E0B800","#C9A601","#AD8E00","#8C7301"],["#FFDED3","#FFC4B0","#FF9D7D","#FF7A4E","#FF6600","#E95D00","#D15502","#BA4B01","#A44201",
"#8D3901"],["#FFD2D0","#FFBAB7","#FE9A95","#FF7A73","#FF483F","#FE2419","#F10B00","#D40A00","#940000","#6D201B"],["#FFDAED","#FFB7DC","#FFA1D1","#FF84C3","#FF57AC","#FD1289","#EC0078","#D6006D","#BB005F","#9B014F"],["#FCD6FE","#FBBCFF","#F9A1FE","#F784FE","#F564FE","#F546FF","#F328FF","#D801E5","#C001CB","#8F0197"],["#E2F0FE","#C7E2FE","#ADD5FE","#92C7FE","#6EB5FF","#48A2FF","#2690FE","#0162F4","#013ADD","#0021B0"],["#D3FDFF","#ACFAFD","#7CFAFF","#4AF7FE","#1DE6FE","#01DEFF","#00CDEC","#01B6DE","#00A0C2",
"#0084A0"],["#EDFFCF","#DFFEAA","#D1FD88","#BEFA5A","#A8F32A","#8FD80A","#79C101","#3FA701","#307F00","#156200"],["#D4C89F","#DAAD88","#C49578","#C2877E","#AC8295","#C0A5C4","#969AC2","#92B7D7","#80ADAF","#9CA53B"]];if(this.vcID!=this.viID){var b=$('<input type="hidden" id="'+this.viID+'" name="'+this.viID+'" value="" />');$("#"+this.bindID).append(b)}if(this.clID!=this.ldID){b=$("#"+this.clID);this.ldID=this.clID;if(b.length<1){alert("ColorPad:\u951a\u70b9\u4e0d\u5b58\u5728\u3002");return this}}else{b=
$('<div id="'+this.ldID+'"></div>');$(b).css({width:this.ldW+"px",height:this.ldH+"px",border:"1px solid #ccc",background:"#fff"});$("#"+this.bindID).append(b)}$(b).css("cursor","pointer");var c=$(b).css("border");typeof c!="undefined"&&c!=""&&$(b).hover(function(){$(this).css("border","1px solid #333")},function(){$(this).css("border",c)});var d=$(b).position(),e=$('<div id="colorpad"></div>');$(e).css({position:"absolute",width:"140px",height:"170px",background:"#f0f0ee",border:"1px solid #999",
top:d.top});if(this.showPos==0||this.showPos=="bottom")$(e).css({top:d.top+$(b).height()+3});else if(this.showPos==1||this.showPos=="right")$(e).css({left:d.left+$(b).width()+3});d=$("<div onclick=\"$('#"+this.vcID+"').val('');$('#"+this.ldID+"').css('background','#fff');$('#colorpad').hide();\">\u65e0\u989c\u8272</div>");$(d).css({border:"1px solid #f0f0ee","font-size":"12px",margin:"1px",height:"16px","text-align":"center",cursor:"pointer"});$(d).hover(function(){$(this).css("border","1px solid #333")},
function(){$(this).css("border","1px solid #f0f0ee")});$(e).append(d);for(d=0;d<a.length;d++){for(var i=$("<div></div>"),f=a[d],g=0;g<f.length;g++){var h=$("<span onclick=\"$('#"+this.vcID+"').val('"+f[g]+"');$('#"+this.ldID+"').css('background','"+f[g]+"');$('#colorpad').hide();\"></span>");$(h).css({margin:"1px",width:"10px",height:"10px",border:"1px solid #f0f0ee",background:f[g],display:"block",cursor:"pointer","float":"left"});$(h).hover(function(){$(this).css("border","1px solid #333")},function(){$(this).css("border",
"1px solid #f0f0ee")});$(i).append(h)}$(i).append($('<div style="clear:both;"></div>'));$(e).append(i)}$(b).after(e);this.isShow==0&&$(e).hide();return this},show:function(){$("#"+this.ldID).click(function(){$("#colorpad").show();$("html").bind("mousedown",function(a){if($(a.target).parents("#colorpad").length==0&&$(a.target).attr("id")!="colorpad"){$("#colorpad").hide();$("html").unbind("mousedown")}})})}},swaptab:{tParent:"",bParent:"",tabClass:"",showErr:0,config:function(a){if(typeof a=="undefined"){alert("SwapTab:\u8bbe\u7f6e\u53c2\u6570\u9519\u8bef");
return this}this.tParent=a.tParent;this.bParent=a.bParent;this.tabClass=a.tabClass;if(typeof a.showErr!="undefined")this.showErr=a.showErr;return this},play:function(){var a=$("#"+this.tParent).find("a"),b=$("#"+this.bParent).children("div"),c=this.tabClass;if(this.showErr==1&&b.length<a.length)alert("SwapTab\uff1aTAB\u548c\u9700\u8981\u663e\u793a\u5757\u7684\u6570\u91cf\u4e0d\u7b26\u5408\uff0c\u8bf7\u68c0\u67e5HTML\u4ee3\u7801\uff01");else{b.each(function(){$(this).hide();$(b.get(0)).show()});a.each(function(d,
e){$(this).removeClass(c);$(a.get(0)).addClass(c);$(this).click(function(){a.each(function(){$(this).removeClass(c)});b.each(function(){$(this).hide()});$(e).addClass(c);$(b.get(d)).show()})})}}},droplist:{themeBase:"",theme:"",jump:0,config:function(a){if(typeof a=="undefined"){alert("DropList:\u8bbe\u7f6e\u53c2\u6570\u9519\u8bef");return this}this.theme=a.theme;this.jump=typeof a.jump=="undefined"?0:a.jump;this.themeBase=typeof a.themeBase=="undefined"?"":a.themeBase;return this},play:function(a){var b=
this.jump;if(typeof this.theme=="undefined"||this.theme=="")this.theme="classic";$("head").append('<link rel="stylesheet" rev="stylesheet" href="'+this.themeBase+"js/themes/droplist/"+this.theme+'/theme.css" type="text/css" />');a=$("#"+a);if(typeof a!="undefined"){var c=$(a).attr("id"),d=$(a).attr("name"),e=a.children("option"),i=a.children("option:selected"),f=$('<div id="'+c+'" class="'+this.theme+'_nkDropList"></div>'),g=$("<div></div>");d=$('<input type="hidden" name="'+d+'" value="'+$(i).val()+
'" />');var h=$("<span>"+$(i).text()+"</span>");$(g).append(d).append(h);var k=$("<ul></ul>");for(d=0;d<e.length;d++){h="";if($(i).val()==$(e[d]).val())h=' class="r"';$(k).append('<li v="'+$(e[d]).val()+'"><span'+h+' title="'+$(e[d]).text()+'">'+$(e[d]).text()+"</span></li>")}$(f).append(g);$(f).append(k);a.after(f);a.remove();$("#"+c).children("div").click(function(){var j=$("#"+c).children("div").children("input").val();$("#"+c+" ul li").each(function(){$(this).children("span").removeClass("r");
$(this).attr("v")==j&&$(this).children("span").addClass("r")});$(k).slideToggle(100)});$("#"+c+" ul li").click(function(){var j=$(this).parent().siblings("div");$(j).children("input").val($(this).attr("v"));$(j).children("span").html($(this).html());b==1&&$(this).attr("v")!=""&&window.open($(this).attr("v"));$(this).parent().slideUp(100)});$("html").bind("mousedown",function(j){$(j.target).parents("#"+c).length==0&&$(j.target).attr("id")!=c&&$(k).slideUp(100)})}}},glideMenu:function(a){a=$("#"+a).children("ul").children("li");
a.length>0&&a.children("a").children("img").hover(function(){$(this).attr("value")!="0"&&$(this).attr("src",$(this).attr("src").replace(".jpg","_1.jpg"))},function(){$(this).attr("value")!="0"&&$(this).attr("src",$(this).attr("src").replace("_1.jpg",".jpg"))})},tools:{isTel:function(a){return/(^[0-9]{3,4}\-[0-9]{3,8}(\-?\d{2,4})?$)|(^[0-9]{3,8}(\-?\d{2,4})?$)|(^\([0-9]{3,4}\)[0-9]{3,8}$)|(^0{0,1}13[0-9]{9}$)/.test(a)},isEmail:function(a){return/([\w|_|\.|\+]+)@([-|\w]+)\.([A-Za-z]{2,4})/.test(a)},
isIDCard:function(a){var b={11:"\u5317\u4eac",12:"\u5929\u6d25",13:"\u6cb3\u5317",14:"\u5c71\u897f",15:"\u5185\u8499\u53e4",21:"\u8fbd\u5b81",22:"\u5409\u6797",23:"\u9ed1\u9f99\u6c5f",31:"\u4e0a\u6d77",32:"\u6c5f\u82cf",33:"\u6d59\u6c5f",34:"\u5b89\u5fbd",35:"\u798f\u5efa",36:"\u6c5f\u897f",37:"\u5c71\u4e1c",41:"\u6cb3\u5357",42:"\u6e56\u5317",43:"\u6e56\u5357",44:"\u5e7f\u4e1c",45:"\u5e7f\u897f",46:"\u6d77\u5357",50:"\u91cd\u5e86",51:"\u56db\u5ddd",52:"\u8d35\u5dde",53:"\u4e91\u5357",54:"\u897f\u85cf",
61:"\u9655\u897f",62:"\u7518\u8083",63:"\u9752\u6d77",64:"\u5b81\u590f",65:"\u65b0\u7586",71:"\u53f0\u6e7e",81:"\u9999\u6e2f",82:"\u6fb3\u95e8",91:"\u56fd\u5916"},c=0;if(a.length<18){if(!/^[1-9]+\d{14}$/i.test(a))return false}else{if(!/^\d{17}(\d|x)$/i.test(a))return false;a=a.replace(/x$/i,"a");if(b[parseInt(a.substr(0,2))]==null)return false;sBirthday=a.substr(6,4)+"-"+Number(a.substr(10,2))+"-"+Number(a.substr(12,2));b=new Date(sBirthday.replace(/\-/g,"/"));if(sBirthday!=b.getFullYear()+"-"+(b.getMonth()+
1)+"-"+b.getDate())return false;for(b=17;b>=0;b--)c+=Math.pow(2,b)%11*parseInt(a.charAt(17-b),11);if(c%11!=1)return false}return true},showTime:function(a,b){var c=new Date,d=c.getFullYear(),e=c.getMonth()+1,i=c.getDate(),f=c.getHours(),g=c.getMinutes();c=c.getSeconds();if(f<10)f="0"+f;if(g<10)g="0"+g;if(c<10)c="0"+c;d=d+"\u5e74"+e+"\u6708"+i+"\u65e5 "+f+":"+g+":"+c;var h=this;if(b==1){"#"+a&&$("#"+a).html(d);setInterval(function(){h.showTime(a)},1E3)}else"#"+a&&$("#"+a).html(d)},checkInput:function(a,
b){$("#"+a+" input[type=checkbox]").each(function(){if(b==1)$(this).attr("checked","checked");else if(b==0)$(this).attr("checked")?$(this).attr("checked",""):$(this).attr("checked","checked")})}}};
